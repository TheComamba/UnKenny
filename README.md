# UnKenny - NPCs with artificial intelligence

## About

__UnKenny is currently in its beta phase. Whatever that means.__

UnKenny is a module for [Foundry Virtual Table Top](https://foundryvtt.com/). The idea for it arose during our Starfinder game, because we wanted to simulate the interaction with a robotical NPC with limited AI.

Do not expect UnKenny to pass the [Turing test](https://plato.stanford.edu/entries/turing-test/)! The open source [large language model](https://en.wikipedia.org/wiki/Large_language_model) it uses behind the scenes is not as powerful as the ones developed by big tech companies. It is intended to capture the joy of interacting with an uncanny and slightly random AI and incorporate it into role playing.

Oh, and UnKenny is probably not safe for work. Even with a lot of time and budget it is a very daunting task to get language models trained by the internet to behave.

## Usage

After enabling the module for a world, click on the actor of your choice.

Click on "Make UnKenny" and enter a preamble. A preamble is a short description of what the character needs to know about themselves.

As long as the preamble is not empty, the actor is considered "unkenny". The module creates a macro called "Speak with (actor name)", which can be found in the macro directory. Conversely, if you edit the preamble to be empty, the corresponding macro is deleted.

To speak to the actor, execute the macro. A dialoge pops up, in which you can enter your message. Once you click on "Speak!", your message is posted in the chat. A short while later, the response generated by the large language model is posted below it.

## Manual Installation

To manually install UnKenny (e.g. for development), copy the src/ folder of this repository to the {userData}/Data/modules/ folder of Foundry, and then rename it to 'unkenny' (the id declared in module.json).

On POSIX compliant operating systems like Linux and Mac you can alternatively use a symbolic link. It can be created via e.g.

```bash
ln -s {folder containing git repo}/UnKenny/src {Foundry user data}/Data/modules/unkenny
```

## License

This software is distributed under the [MIT](https://choosealicense.com/licenses/mit/) license. In a nutshell this means that all code is made public, and you are free to use it without any charge.

The `Felladrin/onnx-bloomz-560m-sft-chat` model is disctributed under the bigscience-bloom-rail-1.0 license.
The `Felladrin/onnx-gpt2-conversational-retrain` and `Felladrin/onnx-gpt2-large-conversational-retrain` models are distributed under the MIT license.